<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<style th:fragment="custom-navbar">
    .custom-navbar {
        width: 100%;
        height: 50px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 20px;
        border-radius: 10px;
        background-color: white;
        padding: 0 20px;
    }
</style>
<div class="custom-navbar" th:fragment="custom-navbar">
    <a href="/dashboard" class="navbar-brand">
        <img src="/images/source/YOG_copy.png" alt="대시보드" style="width: 100px; height: 40px; margin-right: 10px;">
    </a>
    <div class="dropdown">
        <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton"
                data-bs-toggle="dropdown" aria-expanded="false">
            <img th:src="${#authentication.principal.member.profile != null ? #authentication.principal.member.profile : '/images/source/anonymous.png'}" alt="사진" style="width: 35px;height: 35px;border-radius: 50%;">
            <span th:text="${#authentication.principal.member.name}"/>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li><a class="dropdown-item" href="/my/info">내 정보</a></li>
            <li><a class="dropdown-item" href="/my/lesson">내 강의</a></li>
            <li><a class="dropdown-item" href="/my/board">내 게시글</a></li>
            <li><a class="dropdown-item" href="#" onclick="document.getElementById('logoutForm').submit();">로그아웃</a></li>
            <form id="logoutForm" th:action="@{/logout}" method="post" style="display: none;">
                <input type="submit">
            </form>
            <div sec:authorize="hasRole('ROLE_ADMIN')">
                <li><a class="dropdown-item" href="/admin">관리자 페이지</a></li>
            </div>
        </ul>
    </div>
</div>